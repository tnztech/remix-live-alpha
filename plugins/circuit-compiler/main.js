(self["webpackChunk"]=self["webpackChunk"]||[]).push([[179],{53373:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);Object.defineProperty(exports,"__esModule",{value:true});exports.generateR1cs=exports.computeWitness=exports.compileCircuit=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(59454));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(91544));var compileCircuit=function(){var _ref=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee(plugin,appState){return _regenerator["default"].wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(appState.status!=="compiling")){_context.next=6;break}_context.next=4;return plugin.compile(appState.filePath,{version:appState.version,prime:appState.primeValue});case 4:_context.next=7;break;case 6:console.log("Exisiting circuit compilation in progress");case 7:_context.next=13;break;case 9:_context.prev=9;_context.t0=_context["catch"](0);plugin.internalEvents.emit("circuit_compiling_errored",_context.t0);console.error(_context.t0);case 13:case"end":return _context.stop()}}}),_callee,null,[[0,9]])})));return function compileCircuit(_x,_x2){return _ref.apply(this,arguments)}}();exports.compileCircuit=compileCircuit;var generateR1cs=function(){var _ref2=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee2(plugin,appState){return _regenerator["default"].wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(!(appState.status!=="generating")){_context2.next=6;break}_context2.next=4;return plugin.generateR1cs(appState.filePath,{version:appState.version,prime:appState.primeValue});case 4:_context2.next=7;break;case 6:console.log("Exisiting r1cs generation in progress");case 7:_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2["catch"](0);plugin.internalEvents.emit("circuit_generating_r1cs_errored",_context2.t0);console.error("Generating R1CS failed: ",_context2.t0);case 13:case"end":return _context2.stop()}}}),_callee2,null,[[0,9]])})));return function generateR1cs(_x3,_x4){return _ref2.apply(this,arguments)}}();exports.generateR1cs=generateR1cs;var computeWitness=function(){var _ref3=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee3(plugin,status,witnessValues){var input;return _regenerator["default"].wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;if(!(status!=="computing")){_context3.next=7;break}input=JSON.stringify(witnessValues);_context3.next=5;return plugin.computeWitness(input);case 5:_context3.next=8;break;case 7:console.log("Exisiting witness computation in progress");case 8:_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3["catch"](0);plugin.internalEvents.emit("circuit_computing_witness_errored",_context3.t0);console.error("Computing witness failed: ",_context3.t0);case 14:case"end":return _context3.stop()}}}),_callee3,null,[[0,10]])})));return function computeWitness(_x5,_x6,_x7){return _ref3.apply(this,arguments)}}();exports.computeWitness=computeWitness},957:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);var _typeof=__webpack_require__(22886);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(59454));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(91544));var _slicedToArray2=_interopRequireDefault(__webpack_require__(15159));var _react=_interopRequireWildcard(__webpack_require__(47182));var _helper=__webpack_require__(63878);var _reactIntl=__webpack_require__(24831);var _container=__webpack_require__(70360);var _contexts=__webpack_require__(42768);var _state=__webpack_require__(79840);var _circomPluginClient=__webpack_require__(18646);var _actions=__webpack_require__(53373);var _jsxRuntime=__webpack_require__(97659);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}var plugin=new _circomPluginClient.CircomPluginClient;function App(){var _useReducer=(0,_react.useReducer)(_state.appReducer,_state.appInitialState),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),appState=_useReducer2[0],dispatch=_useReducer2[1];var _useState=(0,_react.useState)({code:"en",messages:null}),_useState2=(0,_slicedToArray2["default"])(_useState,2),locale=_useState2[0],setLocale=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),isContentChanged=_useState4[0],setIsContentChanged=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2["default"])(_useState5,2),isPluginActivated=_useState6[0],setIsPluginActivated=_useState6[1];(0,_react.useEffect)((function(){plugin.internalEvents.on("circom_activated",(function(){plugin.on("locale","localeChanged",(function(locale){setLocale(locale)}));plugin.on("fileManager","currentFileChanged",(function(filePath){if(filePath.endsWith(".circom")){dispatch({type:"SET_FILE_PATH",payload:filePath});plugin.parse(filePath)}else{dispatch({type:"SET_FILE_PATH",payload:""})}}));plugin.on("editor","contentChanged",function(){var _ref=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee(path,content){return _regenerator["default"].wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsContentChanged(true);if(path.endsWith(".circom")){plugin.parse(path,content)}case 2:case"end":return _context.stop()}}}),_callee)})));return function(_x,_x2){return _ref.apply(this,arguments)}}());setIsPluginActivated(true)}));plugin.internalEvents.on("circuit_compiling_start",(function(){return dispatch({type:"SET_COMPILER_STATUS",payload:"compiling"})}));plugin.internalEvents.on("circuit_compiling_done",(function(signalInputs){signalInputs=(signalInputs||[]).filter((function(input){return input}));dispatch({type:"SET_SIGNAL_INPUTS",payload:signalInputs});dispatch({type:"SET_COMPILER_STATUS",payload:"idle"})}));plugin.internalEvents.on("circuit_compiling_errored",compilerErrored);plugin.internalEvents.on("circuit_generating_r1cs_start",(function(){return dispatch({type:"SET_COMPILER_STATUS",payload:"generating"})}));plugin.internalEvents.on("circuit_generating_r1cs_done",(function(){return dispatch({type:"SET_COMPILER_STATUS",payload:"idle"})}));plugin.internalEvents.on("circuit_generating_r1cs_errored",compilerErrored);plugin.internalEvents.on("circuit_computing_witness_start",(function(){return dispatch({type:"SET_COMPILER_STATUS",payload:"computing"})}));plugin.internalEvents.on("circuit_computing_witness_done",(function(){dispatch({type:"SET_COMPILER_STATUS",payload:"idle"});dispatch({type:"SET_COMPILER_FEEDBACK",payload:null})}));plugin.internalEvents.on("circuit_computing_witness_errored",compilerErrored);plugin.internalEvents.on("circuit_parsing_done",(function(_,filePathToId){dispatch({type:"SET_FILE_PATH_TO_ID",payload:filePathToId});dispatch({type:"SET_COMPILER_FEEDBACK",payload:null})}));plugin.internalEvents.on("circuit_parsing_errored",(function(report){dispatch({type:"SET_COMPILER_STATUS",payload:"errored"});dispatch({type:"SET_COMPILER_FEEDBACK",payload:report})}));plugin.internalEvents.on("circuit_parsing_warning",(function(report){dispatch({type:"SET_COMPILER_STATUS",payload:"warning"});dispatch({type:"SET_COMPILER_FEEDBACK",payload:report})}))}),[]);(0,_react.useEffect)((function(){if(isContentChanged){(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee2(){return _regenerator["default"].wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!appState.autoCompile){_context2.next=3;break}_context2.next=3;return(0,_actions.compileCircuit)(plugin,appState);case 3:case"end":return _context2.stop()}}}),_callee2)})))();setIsContentChanged(false)}}),[appState.autoCompile,isContentChanged]);(0,_react.useEffect)((function(){if(isPluginActivated){setCurrentLocale()}}),[isPluginActivated]);(0,_react.useEffect)((function(){if(appState.filePath){(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee3(){return _regenerator["default"].wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!appState.autoCompile){_context3.next=3;break}_context3.next=3;return(0,_actions.compileCircuit)(plugin,appState);case 3:case"end":return _context3.stop()}}}),_callee3)})))()}}),[appState.filePath]);var setCurrentLocale=function(){var _ref4=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee4(){var currentLocale;return _regenerator["default"].wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return plugin.call("locale","currentLocale");case 2:currentLocale=_context4.sent;setLocale(currentLocale);case 4:case"end":return _context4.stop()}}}),_callee4)})));return function setCurrentLocale(){return _ref4.apply(this,arguments)}}();var compilerErrored=function compilerErrored(err){dispatch({type:"SET_COMPILER_STATUS",payload:"errored"});try{var report=JSON.parse(err.message);dispatch({type:"SET_COMPILER_FEEDBACK",payload:report})}catch(e){dispatch({type:"SET_COMPILER_FEEDBACK",payload:err.message})}};var value={appState,dispatch,plugin};return(0,_jsxRuntime.jsx)("div",{className:"circuit_compiler_app",children:(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:locale.messages,children:(0,_jsxRuntime.jsx)(_reactIntl.IntlProvider,{locale:locale.code,messages:locale.messages,children:(0,_jsxRuntime.jsx)(_contexts.CircuitAppContext.Provider,{value,children:(0,_jsxRuntime.jsx)(_container.Container,{})})})})})}var _default=App;exports["default"]=_default},91934:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CircuitActions=CircuitActions;var _compileBtn=__webpack_require__(94528);var _r1csBtn=__webpack_require__(36115);var _jsxRuntime=__webpack_require__(97659);function CircuitActions(){return(0,_jsxRuntime.jsxs)("div",{className:"pb-3",children:[(0,_jsxRuntime.jsx)(_compileBtn.CompileBtn,{}),(0,_jsxRuntime.jsx)(_r1csBtn.R1CSBtn,{})]})}},94528:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CompileBtn=CompileBtn;var _helper=__webpack_require__(63878);var _react=__webpack_require__(47182);var _contexts=__webpack_require__(42768);var _reactIntl=__webpack_require__(24831);var _actions=__webpack_require__(53373);var _jsxRuntime=__webpack_require__(97659);function CompileBtn(){var _useContext=(0,_react.useContext)(_contexts.CircuitAppContext),plugin=_useContext.plugin,appState=_useContext.appState;return(0,_jsxRuntime.jsx)("button",{className:"btn btn-primary btn-block d-block w-100 text-break mb-1 mt-3",onClick:function onClick(){(0,_actions.compileCircuit)(plugin,appState)},disabled:appState.filePath===""||appState.status==="compiling"||appState.status==="generating",children:(0,_jsxRuntime.jsx)(_helper.CustomTooltip,{placement:"auto",tooltipId:"overlay-tooltip-compile",tooltipText:(0,_jsxRuntime.jsx)("div",{className:"text-left",children:(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsx)("b",{children:"Ctrl+S"})," to compile ",appState.filePath]})}),children:(0,_jsxRuntime.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:appState.status==="compiling",children:(0,_jsxRuntime.jsx)("i",{className:"fas fa-sync fa-spin mr-2","aria-hidden":"true"})}),(0,_jsxRuntime.jsx)(_helper.RenderIfNot,{condition:appState.status==="compiling",children:(0,_jsxRuntime.jsx)("i",{className:"fas fa-sync mr-2","aria-hidden":"true"})}),(0,_jsxRuntime.jsxs)("div",{className:"text-truncate overflow-hidden text-nowrap",children:[(0,_jsxRuntime.jsx)("span",{children:(0,_jsxRuntime.jsx)(_reactIntl.FormattedMessage,{id:"circuit.compile"})}),(0,_jsxRuntime.jsxs)("span",{className:"ml-1 text-nowrap",children:[(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:appState.filePath==="",children:(0,_jsxRuntime.jsx)(_reactIntl.FormattedMessage,{id:"circuit.noFileSelected"})}),(0,_jsxRuntime.jsx)(_helper.RenderIfNot,{condition:appState.filePath==="",children:(0,_jsxRuntime.jsx)(_jsxRuntime.Fragment,{children:(0,_helper.extractNameFromKey)(appState.filePath)})})]})]})]})})})}},83336:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);Object.defineProperty(exports,"__esModule",{value:true});exports.ConfigToggler=ConfigToggler;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15159));var _react=__webpack_require__(47182);var _reactIntl=__webpack_require__(24831);var _helper=__webpack_require__(63878);var _jsxRuntime=__webpack_require__(97659);function ConfigToggler(_ref){var children=_ref.children;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),toggleExpander=_useState2[0],setToggleExpander=_useState2[1];var toggleConfigurations=function toggleConfigurations(){setToggleExpander(!toggleExpander)};return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsxs)("div",{className:"d-flex circuit_config_section justify-content-between",onClick:toggleConfigurations,children:[(0,_jsxRuntime.jsx)("div",{className:"d-flex",children:(0,_jsxRuntime.jsx)("label",{className:"mt-1 circuit_config_section",children:(0,_jsxRuntime.jsx)(_reactIntl.FormattedMessage,{id:"circuit.advancedConfigurations"})})}),(0,_jsxRuntime.jsx)("div",{children:(0,_jsxRuntime.jsxs)("span",{"data-id":"scConfigExpander",onClick:toggleConfigurations,children:[(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:toggleExpander,children:(0,_jsxRuntime.jsx)("i",{className:"fas fa-angle-down","aria-hidden":"true"})}),(0,_jsxRuntime.jsx)(_helper.RenderIfNot,{condition:toggleExpander,children:(0,_jsxRuntime.jsx)("i",{className:"fas fa-angle-right","aria-hidden":"true"})})]})})]}),(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:toggleExpander,children})]})}},57063:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Configurations=Configurations;var _helper=__webpack_require__(63878);var _reactIntl=__webpack_require__(24831);var _jsxRuntime=__webpack_require__(97659);function Configurations(_ref){var primeValue=_ref.primeValue,setPrimeValue=_ref.setPrimeValue;return(0,_jsxRuntime.jsx)("div",{className:"pb-2 border-bottom flex-column",children:(0,_jsxRuntime.jsx)("div",{className:"flex-column d-flex",children:(0,_jsxRuntime.jsxs)("div",{className:"mb-2 ml-0",children:[(0,_jsxRuntime.jsx)("label",{className:"circuit_inner_label form-check-label",htmlFor:"circuitPrimeSelector",children:(0,_jsxRuntime.jsx)(_reactIntl.FormattedMessage,{id:"circuit.prime"})}),(0,_jsxRuntime.jsx)(_helper.CustomTooltip,{placement:"auto",tooltipId:"circuitPrimeLabelTooltip",tooltipClasses:"text-nowrap",tooltipText:(0,_jsxRuntime.jsx)("span",{children:"To choose the prime number to use to generate the circuit. Receives the name of the curve (bn128, bls12381, goldilocks) [default: bn128]"}),children:(0,_jsxRuntime.jsx)("div",{children:(0,_jsxRuntime.jsxs)("select",{onChange:function onChange(e){return setPrimeValue(e.target.value)},value:primeValue,className:"custom-select",style:{pointerEvents:"auto"},children:[(0,_jsxRuntime.jsx)("option",{value:"bn128",children:"bn128"}),(0,_jsxRuntime.jsx)("option",{value:"bls12381",children:"bls12381"}),(0,_jsxRuntime.jsx)("option",{value:"goldilocks",children:"goldilocks"})]})})})]})})})}},70360:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);Object.defineProperty(exports,"__esModule",{value:true});exports.Container=Container;var _regenerator=_interopRequireDefault(__webpack_require__(59454));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(91544));var _react=__webpack_require__(47182);var _helper=__webpack_require__(63878);var _reactIntl=__webpack_require__(24831);var _contexts=__webpack_require__(42768);var _options=__webpack_require__(97040);var _versions=__webpack_require__(37467);var _configToggler=__webpack_require__(83336);var _configurations=__webpack_require__(57063);var _actions=__webpack_require__(91934);var _witnessToggler=__webpack_require__(43503);var _witness=__webpack_require__(4590);var _feedback=__webpack_require__(39692);var _jsxRuntime=__webpack_require__(97659);function Container(){var circuitApp=(0,_react.useContext)(_contexts.CircuitAppContext);var showCompilerLicense=function showCompilerLicense(){var message=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"License not available";circuitApp.plugin.call("notification","modal",{id:"modal_circuit_compiler_license",title:"Compiler License",message})};var handleVersionSelect=function handleVersionSelect(version){circuitApp.dispatch({type:"SET_COMPILER_VERSION",payload:version})};var handleOpenErrorLocation=function(){var _ref=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee(location,startRange){var fullPathLocation,startPosition;return _regenerator["default"].wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!location){_context.next=11;break}_context.next=3;return circuitApp.plugin.resolveReportPath(location);case 3:fullPathLocation=_context.sent;_context.next=6;return circuitApp.plugin.call("fileManager","open",fullPathLocation);case 6:_context.next=8;return circuitApp.plugin.call("editor","getPositionAt",startRange);case 8:startPosition=_context.sent;_context.next=11;return circuitApp.plugin.call("editor","gotoLine",startPosition.lineNumber-1,startPosition.column);case 11:case"end":return _context.stop()}}}),_callee)})));return function handleOpenErrorLocation(_x,_x2){return _ref.apply(this,arguments)}}();var handlePrimeChange=function handlePrimeChange(value){circuitApp.dispatch({type:"SET_PRIME_VALUE",payload:value})};var handleCircuitAutoCompile=function handleCircuitAutoCompile(value){circuitApp.dispatch({type:"SET_AUTO_COMPILE",payload:value})};var handleCircuitHideWarnings=function handleCircuitHideWarnings(value){circuitApp.dispatch({type:"SET_HIDE_WARNINGS",payload:value})};return(0,_jsxRuntime.jsx)("section",{children:(0,_jsxRuntime.jsx)("article",{children:(0,_jsxRuntime.jsx)("div",{className:"pt-0 circuit_section",children:(0,_jsxRuntime.jsxs)("div",{className:"mb-1",children:[(0,_jsxRuntime.jsx)("label",{className:"circuit_label form-check-label",htmlFor:"versionSelector",children:(0,_jsxRuntime.jsx)(_reactIntl.FormattedMessage,{id:"circuit.compiler"})}),(0,_jsxRuntime.jsx)(_helper.CustomTooltip,{placement:"top",tooltipId:"showCompilerTooltip",tooltipClasses:"text-nowrap",tooltipText:"See compiler license",children:(0,_jsxRuntime.jsx)("span",{className:"fa fa-file-text-o border-0 p-0 ml-2",onClick:function onClick(){return showCompilerLicense()}})}),(0,_jsxRuntime.jsx)(_versions.VersionList,{setVersion:handleVersionSelect,versionList:circuitApp.appState.versionList,currentVersion:circuitApp.appState.version}),(0,_jsxRuntime.jsx)(_options.CompileOptions,{setCircuitAutoCompile:handleCircuitAutoCompile,setCircuitHideWarnings:handleCircuitHideWarnings,autoCompile:circuitApp.appState.autoCompile,hideWarnings:circuitApp.appState.hideWarnings}),(0,_jsxRuntime.jsx)(_configToggler.ConfigToggler,{children:(0,_jsxRuntime.jsx)(_configurations.Configurations,{setPrimeValue:handlePrimeChange,primeValue:circuitApp.appState.primeValue})}),(0,_jsxRuntime.jsx)(_actions.CircuitActions,{}),(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:circuitApp.appState.signalInputs.length>0,children:(0,_jsxRuntime.jsx)(_witnessToggler.WitnessToggler,{children:(0,_jsxRuntime.jsx)(_witness.WitnessSection,{plugin:circuitApp.plugin,signalInputs:circuitApp.appState.signalInputs,status:circuitApp.appState.status})})}),(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:circuitApp.appState.status!=="compiling"&&circuitApp.appState.status!=="computing"&&circuitApp.appState.status!=="generating",children:(0,_jsxRuntime.jsx)(_feedback.CompilerFeedback,{feedback:circuitApp.appState.feedback,filePathToId:circuitApp.appState.filePathToId,openErrorLocation:handleOpenErrorLocation,hideWarnings:circuitApp.appState.hideWarnings})})]})})})})}},39692:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);Object.defineProperty(exports,"__esModule",{value:true});exports.CompilerFeedback=CompilerFeedback;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15159));var _react=__webpack_require__(47182);var _helper=__webpack_require__(63878);var _clipboard=__webpack_require__(29539);var _feedbackAlert=__webpack_require__(97112);var _jsxRuntime=__webpack_require__(97659);function CompilerFeedback(_ref){var feedback=_ref.feedback,filePathToId=_ref.filePathToId,hideWarnings=_ref.hideWarnings,openErrorLocation=_ref.openErrorLocation;var _useState=(0,_react.useState)(true),_useState2=(0,_slicedToArray2["default"])(_useState,2),showException=_useState2[0],setShowException=_useState2[1];var handleCloseException=function handleCloseException(){setShowException(false)};var handleOpenError=function handleOpenError(report){if(report.labels.length>0){openErrorLocation(filePathToId[report.labels[0].file_id],report.labels[0].range.start)}};return(0,_jsxRuntime.jsx)("div",{children:(0,_jsxRuntime.jsxs)("div",{className:"circuit_errors_box py-4",children:[(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:typeof feedback==="string"&&showException,children:(0,_jsxRuntime.jsxs)("div",{className:"circuit_feedback error alert alert-danger",children:[(0,_jsxRuntime.jsxs)("span",{children:[" ",feedback," "]}),(0,_jsxRuntime.jsx)("div",{className:"close","data-id":"renderer",onClick:handleCloseException,children:(0,_jsxRuntime.jsx)("i",{className:"fas fa-times"})}),(0,_jsxRuntime.jsx)("div",{className:"d-flex pt-1 flex-row-reverse",children:(0,_jsxRuntime.jsx)("span",{className:"ml-3 pt-1 py-1",children:(0,_jsxRuntime.jsx)(_clipboard.CopyToClipboard,{content:feedback,className:"p-0 m-0 far fa-copy error",direction:"top"})})})]})}),(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:Array.isArray(feedback),children:(0,_jsxRuntime.jsx)(_jsxRuntime.Fragment,{children:Array.isArray(feedback)&&feedback.map((function(response,index){return(0,_jsxRuntime.jsxs)("div",{onClick:function onClick(){return handleOpenError(response)},children:[(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:response.type==="Error",children:(0,_jsxRuntime.jsx)("div",{className:"circuit_feedback ".concat(response.type.toLowerCase()," alert alert-danger"),children:(0,_jsxRuntime.jsx)(_feedbackAlert.FeedbackAlert,{message:response.message,location:response.labels[0]?response.labels[0].message+" ".concat(filePathToId[response.labels[0].file_id],":").concat(response.labels[0].range.start,":").concat(response.labels[0].range.end):null})})}),(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:response.type==="Warning"&&!hideWarnings,children:(0,_jsxRuntime.jsx)("div",{className:"circuit_feedback ".concat(response.type.toLowerCase()," alert alert-warning"),children:(0,_jsxRuntime.jsx)(_feedbackAlert.FeedbackAlert,{message:response.message,location:null})})})]},index)}))})})]})})}},97112:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);Object.defineProperty(exports,"__esModule",{value:true});exports.FeedbackAlert=FeedbackAlert;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15159));var _react=__webpack_require__(47182);var _helper=__webpack_require__(63878);var _clipboard=__webpack_require__(29539);var _jsxRuntime=__webpack_require__(97659);function FeedbackAlert(_ref){var message=_ref.message,location=_ref.location;var _useState=(0,_react.useState)(true),_useState2=(0,_slicedToArray2["default"])(_useState,2),showAlert=_useState2[0],setShowAlert=_useState2[1];var handleCloseAlert=function handleCloseAlert(){setShowAlert(false)};return(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:showAlert,children:(0,_jsxRuntime.jsxs)(_jsxRuntime.Fragment,{children:[(0,_jsxRuntime.jsxs)("span",{children:[" ",message," "]}),(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:location!==null,children:(0,_jsxRuntime.jsxs)("span",{children:[" ",location]})}),(0,_jsxRuntime.jsx)("div",{className:"close","data-id":"renderer",onClick:handleCloseAlert,children:(0,_jsxRuntime.jsx)("i",{className:"fas fa-times"})}),(0,_jsxRuntime.jsx)("div",{className:"d-flex pt-1 flex-row-reverse",children:(0,_jsxRuntime.jsx)("span",{className:"ml-3 pt-1 py-1",children:(0,_jsxRuntime.jsx)(_clipboard.CopyToClipboard,{content:message,className:"p-0 m-0 far fa-copy error",direction:"top"})})})]})})}},97040:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CompileOptions=CompileOptions;var _reactIntl=__webpack_require__(24831);var _jsxRuntime=__webpack_require__(97659);function CompileOptions(_ref){var autoCompile=_ref.autoCompile,hideWarnings=_ref.hideWarnings,setCircuitAutoCompile=_ref.setCircuitAutoCompile,setCircuitHideWarnings=_ref.setCircuitHideWarnings;return(0,_jsxRuntime.jsxs)("div",{className:"pb-2",children:[(0,_jsxRuntime.jsxs)("div",{className:"mt-2 custom-control custom-checkbox",children:[(0,_jsxRuntime.jsx)("input",{className:"custom-control-input",type:"checkbox",onChange:function onChange(e){return setCircuitAutoCompile(e.target.checked)},title:"Auto compile",checked:autoCompile,id:"autoCompileCircuit"}),(0,_jsxRuntime.jsx)("label",{className:"form-check-label custom-control-label",htmlFor:"autoCompileCircuit",children:(0,_jsxRuntime.jsx)(_reactIntl.FormattedMessage,{id:"circuit.autoCompile"})})]}),(0,_jsxRuntime.jsxs)("div",{className:"mt-1 mb-2 circuit_warnings_box custom-control custom-checkbox",children:[(0,_jsxRuntime.jsx)("input",{className:"custom-control-input",onChange:function onChange(e){return setCircuitHideWarnings(e.target.checked)},id:"hideCircuitWarnings",type:"checkbox",title:"Hide warnings",checked:hideWarnings}),(0,_jsxRuntime.jsx)("label",{className:"form-check-label custom-control-label",htmlFor:"hideCircuitWarnings",children:(0,_jsxRuntime.jsx)(_reactIntl.FormattedMessage,{id:"solidity.hideWarnings"})})]})]})}},36115:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.R1CSBtn=R1CSBtn;var _helper=__webpack_require__(63878);var _react=__webpack_require__(47182);var _contexts=__webpack_require__(42768);var _reactIntl=__webpack_require__(24831);var _actions=__webpack_require__(53373);var _jsxRuntime=__webpack_require__(97659);function R1CSBtn(){var _useContext=(0,_react.useContext)(_contexts.CircuitAppContext),plugin=_useContext.plugin,appState=_useContext.appState;return(0,_jsxRuntime.jsx)("button",{className:"btn btn-secondary btn-block d-block w-100 text-break mb-1 mt-2",onClick:function onClick(){(0,_actions.generateR1cs)(plugin,appState)},disabled:appState.filePath===""||appState.status==="compiling"||appState.status==="generating"||appState.status==="computing",children:(0,_jsxRuntime.jsx)(_helper.CustomTooltip,{placement:"auto",tooltipId:"overlay-tooltip-compile",tooltipText:(0,_jsxRuntime.jsx)("div",{className:"text-left",children:(0,_jsxRuntime.jsx)("div",{children:"Outputs the constraints in r1cs format"})}),children:(0,_jsxRuntime.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:appState.status==="generating",children:(0,_jsxRuntime.jsx)("i",{className:"fas fa-sync fa-spin mr-2","aria-hidden":"true"})}),(0,_jsxRuntime.jsx)(_helper.RenderIfNot,{condition:appState.status==="generating",children:(0,_jsxRuntime.jsx)("i",{className:"fas fa-sync mr-2","aria-hidden":"true"})}),(0,_jsxRuntime.jsx)("div",{className:"text-truncate overflow-hidden text-nowrap",children:(0,_jsxRuntime.jsx)("span",{children:(0,_jsxRuntime.jsx)(_reactIntl.FormattedMessage,{id:"circuit.generateR1cs"})})})]})})})}},37467:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VersionList=VersionList;var _helper=__webpack_require__(63878);var _jsxRuntime=__webpack_require__(97659);function VersionList(_ref){var currentVersion=_ref.currentVersion,versionList=_ref.versionList,setVersion=_ref.setVersion;var versionListKeys=Object.keys(versionList);return(0,_jsxRuntime.jsx)("select",{value:currentVersion,onChange:function onChange(e){return setVersion(e.target.value)},className:"custom-select",children:(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:versionListKeys.length>0,children:(0,_jsxRuntime.jsx)(_jsxRuntime.Fragment,{children:versionListKeys.map((function(version,index){return(0,_jsxRuntime.jsx)("option",{value:version,children:versionList[version].name},index)}))})})})}},4590:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);Object.defineProperty(exports,"__esModule",{value:true});exports.WitnessSection=WitnessSection;var _defineProperty2=_interopRequireDefault(__webpack_require__(86604));var _slicedToArray2=_interopRequireDefault(__webpack_require__(15159));var _helper=__webpack_require__(63878);var _reactIntl=__webpack_require__(24831);var _actions=__webpack_require__(53373);var _react=__webpack_require__(47182);var _jsxRuntime=__webpack_require__(97659);function WitnessSection(_ref){var plugin=_ref.plugin,signalInputs=_ref.signalInputs,status=_ref.status;var _useState=(0,_react.useState)({}),_useState2=(0,_slicedToArray2["default"])(_useState,2),witnessValues=_useState2[0],setWitnessValues=_useState2[1];var handleSignalInput=function handleSignalInput(e){setWitnessValues(Object.assign({},witnessValues,(0,_defineProperty2["default"])({},e.target.name,e.target.value)))};return(0,_jsxRuntime.jsx)("div",{className:"pb-2 border-bottom flex-column",children:(0,_jsxRuntime.jsx)("div",{className:"flex-column d-flex",children:(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:signalInputs.length>0,children:(0,_jsxRuntime.jsxs)(_jsxRuntime.Fragment,{children:[signalInputs.map((function(input,index){return(0,_jsxRuntime.jsxs)("div",{className:"mb-2 ml-0",children:[(0,_jsxRuntime.jsxs)("label",{className:"circuit_inner_label form-check-label",htmlFor:"circuitPrimeSelector",children:[(0,_jsxRuntime.jsx)(_reactIntl.FormattedMessage,{id:"circuit.signalInput"})," ",input]}),(0,_jsxRuntime.jsx)("input",{className:"form-control m-0 txinput",placeholder:input,name:input,onChange:handleSignalInput})]},index)})),(0,_jsxRuntime.jsxs)("button",{className:"btn btn-sm btn-secondary",onClick:function onClick(){(0,_actions.computeWitness)(plugin,status,witnessValues)},disabled:status==="compiling"||status==="generating"||status==="computing",children:[(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:status==="computing",children:(0,_jsxRuntime.jsx)("i",{className:"fas fa-sync fa-spin mr-2","aria-hidden":"true"})}),(0,_jsxRuntime.jsx)(_helper.RenderIfNot,{condition:status==="computing",children:(0,_jsxRuntime.jsx)("i",{className:"fas fa-sync mr-2","aria-hidden":"true"})}),(0,_jsxRuntime.jsx)(_reactIntl.FormattedMessage,{id:"circuit.compute"})]})]})})})})}},43503:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);Object.defineProperty(exports,"__esModule",{value:true});exports.WitnessToggler=WitnessToggler;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15159));var _react=__webpack_require__(47182);var _reactIntl=__webpack_require__(24831);var _helper=__webpack_require__(63878);var _jsxRuntime=__webpack_require__(97659);function WitnessToggler(_ref){var children=_ref.children;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),toggleExpander=_useState2[0],setToggleExpander=_useState2[1];var toggleConfigurations=function toggleConfigurations(){setToggleExpander(!toggleExpander)};return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsxs)("div",{className:"d-flex circuit_config_section justify-content-between",onClick:toggleConfigurations,children:[(0,_jsxRuntime.jsx)("div",{className:"d-flex",children:(0,_jsxRuntime.jsx)("label",{className:"mt-1 circuit_config_section",children:(0,_jsxRuntime.jsx)(_reactIntl.FormattedMessage,{id:"circuit.computeWitness"})})}),(0,_jsxRuntime.jsx)("div",{children:(0,_jsxRuntime.jsxs)("span",{"data-id":"scConfigExpander",onClick:toggleConfigurations,children:[(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:toggleExpander,children:(0,_jsxRuntime.jsx)("i",{className:"fas fa-angle-down","aria-hidden":"true"})}),(0,_jsxRuntime.jsx)(_helper.RenderIfNot,{condition:toggleExpander,children:(0,_jsxRuntime.jsx)("i",{className:"fas fa-angle-right","aria-hidden":"true"})})]})})]}),(0,_jsxRuntime.jsx)(_helper.RenderIf,{condition:toggleExpander,children})]})}},42768:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CircuitAppContext=void 0;var _react=__webpack_require__(47182);var CircuitAppContext=(0,_react.createContext)({});exports.CircuitAppContext=CircuitAppContext},79840:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.appReducer=exports.appInitialState=void 0;var _circom_wasm=__webpack_require__(53455);var appInitialState={version:_circom_wasm.compiler_list.latest,versionList:_circom_wasm.compiler_list.wasm_builds,filePath:"",filePathToId:{},status:"idle",primeValue:"bn128",autoCompile:false,hideWarnings:false,signalInputs:[],feedback:null};exports.appInitialState=appInitialState;var appReducer=function appReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:appInitialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case"SET_COMPILER_VERSION":return Object.assign({},state,{version:action.payload});case"SET_FILE_PATH":return Object.assign({},state,{filePath:action.payload});case"SET_COMPILER_STATUS":return Object.assign({},state,{status:action.payload});case"SET_PRIME_VALUE":return Object.assign({},state,{primeValue:action.payload});case"SET_AUTO_COMPILE":return Object.assign({},state,{autoCompile:action.payload});case"SET_HIDE_WARNINGS":return Object.assign({},state,{hideWarnings:action.payload});case"SET_SIGNAL_INPUTS":return Object.assign({},state,{signalInputs:action.payload});case"SET_COMPILER_FEEDBACK":return Object.assign({},state,{feedback:action.payload});case"SET_FILE_PATH_TO_ID":return Object.assign({},state,{filePathToId:action.payload});default:throw new Error}};exports.appReducer=appReducer},18646:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);Object.defineProperty(exports,"__esModule",{value:true});exports.CircomPluginClient=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(59454));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(91544));var _classCallCheck2=_interopRequireDefault(__webpack_require__(32830));var _createClass2=_interopRequireDefault(__webpack_require__(59152));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(69451));var _inherits2=_interopRequireDefault(__webpack_require__(9346));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(65268));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(83910));var _defineProperty2=_interopRequireDefault(__webpack_require__(86604));var _plugin=__webpack_require__(80481);var _pluginWebview=__webpack_require__(98522);var _events=_interopRequireDefault(__webpack_require__(63683));var _path=_interopRequireDefault(__webpack_require__(96442));var _circom_wasm=__webpack_require__(53455);var _helper=__webpack_require__(63878);function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2["default"])(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return(0,_possibleConstructorReturn2["default"])(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}var CircomPluginClient=function(_PluginClient){(0,_inherits2["default"])(CircomPluginClient,_PluginClient);var _super=_createSuper(CircomPluginClient);function CircomPluginClient(){var _this;(0,_classCallCheck2["default"])(this,CircomPluginClient);_this=_super.call(this);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"internalEvents",void 0);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_compilationConfig",{version:"2.1.5",prime:"bn128"});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"lastCompiledCircuitPath","");(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"lastParsedFiles",{});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"lastCompiledFile","");_this.methods=["init","parse","compile","generateR1cs"];(0,_pluginWebview.createClient)((0,_assertThisInitialized2["default"])(_this));_this.internalEvents=new _events["default"];_this.onload();return _this}(0,_createClass2["default"])(CircomPluginClient,[{key:"init",value:function init(){console.log("initializing circom plugin...")}},{key:"onActivation",value:function onActivation(){this.internalEvents.emit("circom_activated")}},{key:"parse",value:function(){var _parse2=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee(path,fileContent){var parsedOutput,result,mapReportFilePathToId,markers,_iterator,_step,report,label,file_id,startPosition,endPosition;return _regenerator["default"].wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(fileContent){_context.next=4;break}_context.next=3;return this.call("fileManager","readFile",path);case 3:fileContent=_context.sent;case 4:this.lastParsedFiles=(0,_defineProperty2["default"])({},path,fileContent);_context.next=7;return this.resolveDependencies(path,fileContent,this.lastParsedFiles);case 7:this.lastParsedFiles=_context.sent;parsedOutput=(0,_circom_wasm.parse)(path,this.lastParsedFiles);_context.prev=9;result=JSON.parse(parsedOutput.report());mapReportFilePathToId={};if(!(result.length===0)){_context.next=17;break}_context.next=15;return this.call("editor","clearErrorMarkers",[path]);case 15:_context.next=55;break;case 17:markers=[];_iterator=_createForOfIteratorHelper(result);_context.prev=19;_iterator.s();case 21:if((_step=_iterator.n()).done){_context.next=40;break}report=_step.value;_context.t0=_regenerator["default"].keys(report.labels);case 24:if((_context.t1=_context.t0()).done){_context.next=38;break}label=_context.t1.value;file_id=report.labels[label].file_id;mapReportFilePathToId[file_id]=parsedOutput.get_report_name(parseInt(file_id));if(!(file_id==="0")){_context.next=36;break}_context.next=31;return this.call("editor","getPositionAt",report.labels[label].range.start);case 31:startPosition=_context.sent;_context.next=34;return this.call("editor","getPositionAt",report.labels[label].range.end);case 34:endPosition=_context.sent;markers.push({message:report.message,severity:report.type.toLowerCase(),position:{start:{line:startPosition.lineNumber,column:startPosition.column},end:{line:endPosition.lineNumber,column:endPosition.column}},file:path});case 36:_context.next=24;break;case 38:_context.next=21;break;case 40:_context.next=45;break;case 42:_context.prev=42;_context.t2=_context["catch"](19);_iterator.e(_context.t2);case 45:_context.prev=45;_iterator.f();return _context.finish(45);case 48:if(!(markers.length>0)){_context.next=53;break}_context.next=51;return this.call("editor","addErrorMarker",markers);case 51:_context.next=55;break;case 53:_context.next=55;return this.call("editor","clearErrorMarkers",[path]);case 55:this.internalEvents.emit("circuit_parsing_done",result,mapReportFilePathToId);return _context.abrupt("return",result);case 59:_context.prev=59;_context.t3=_context["catch"](9);throw new Error(_context.t3);case 62:case"end":return _context.stop()}}}),_callee,this,[[9,59],[19,42,45,48]])})));function parse(_x,_x2){return _parse2.apply(this,arguments)}return parse}()},{key:"compile",value:function(){var _compile2=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee2(path,compilationConfig){var parseErrors,prime,version,circuitApi,circuitProgram,circuitErrors,fileName,fileContent,searchComponentName,componentName,signals;return _regenerator["default"].wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this.internalEvents.emit("circuit_compiling_start");_context2.next=3;return this.parse(path);case 3:parseErrors=_context2.sent;if(!(parseErrors&&parseErrors.length>0)){_context2.next=11;break}if(!(parseErrors[0].type==="Error")){_context2.next=10;break}this.internalEvents.emit("circuit_parsing_errored",parseErrors);return _context2.abrupt("return");case 10:if(parseErrors[0].type==="Warning"){this.internalEvents.emit("circuit_parsing_warning",parseErrors)}case 11:if(!compilationConfig){_context2.next=19;break}prime=compilationConfig.prime,version=compilationConfig.version;if(!(prime!=="bn128"&&prime!=="bls12381"&&prime!=="goldilocks")){_context2.next=15;break}throw new Error("Invalid prime value");case 15:if(_circom_wasm.compiler_list.versions.includes(version)){_context2.next=17;break}throw new Error("Unsupported compiler version");case 17:this._compilationConfig.prime=prime;this._compilationConfig.version=version;case 19:circuitApi=(0,_circom_wasm.compile)(path,this.lastParsedFiles,{prime:this._compilationConfig.prime});circuitProgram=circuitApi.program();if(!(circuitProgram.length<1)){_context2.next=26;break}circuitErrors=circuitApi.report();throw new Error(circuitErrors);case 26:this.lastCompiledFile=path;fileName=(0,_helper.extractNameFromKey)(path);this.lastCompiledCircuitPath=(0,_helper.extractParentFromKey)(path)+"/.bin/"+fileName.replace("circom","wasm");_context2.next=31;return this.call("fileManager","writeFile",this.lastCompiledCircuitPath,circuitProgram,{encoding:null});case 31:fileContent=this.lastParsedFiles[path];searchComponentName=fileContent.match(/component\s+main\s*(?:{[^{}]*})?\s*=\s*([A-Za-z_]\w*)\s*\(.*\)/);if(searchComponentName){componentName=searchComponentName[1];signals=circuitApi.input_signals(componentName);this.internalEvents.emit("circuit_compiling_done",signals)}else{this.internalEvents.emit("circuit_compiling_done",[])}case 34:case"end":return _context2.stop()}}}),_callee2,this)})));function compile(_x3,_x4){return _compile2.apply(this,arguments)}return compile}()},{key:"generateR1cs",value:function(){var _generateR1cs=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee3(path,compilationConfig){var parseErrors,prime,version,r1csApi,r1csProgram,r1csErrors,fileName,writePath;return _regenerator["default"].wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:this.internalEvents.emit("circuit_generating_r1cs_start");_context3.next=3;return this.parse(path);case 3:parseErrors=_context3.sent;if(!(parseErrors&&parseErrors.length>0)){_context3.next=11;break}if(!(parseErrors[0].type==="Error")){_context3.next=10;break}this.internalEvents.emit("circuit_parsing_errored",parseErrors);return _context3.abrupt("return");case 10:if(parseErrors[0].type==="Warning"){this.internalEvents.emit("circuit_parsing_warning",parseErrors)}case 11:if(!compilationConfig){_context3.next=19;break}prime=compilationConfig.prime,version=compilationConfig.version;if(!(prime!=="bn128"&&prime!=="bls12381"&&prime!=="goldilocks")){_context3.next=15;break}throw new Error("Invalid prime value");case 15:if(_circom_wasm.compiler_list.versions.includes(version)){_context3.next=17;break}throw new Error("Unsupported compiler version");case 17:this._compilationConfig.prime=prime;this._compilationConfig.version=version;case 19:r1csApi=(0,_circom_wasm.generate_r1cs)(path,this.lastParsedFiles,{prime:this._compilationConfig.prime});r1csProgram=r1csApi.program();if(!(r1csProgram.length<1)){_context3.next=26;break}r1csErrors=r1csApi.report();throw new Error(r1csErrors);case 26:this.internalEvents.emit("circuit_generating_r1cs_done");fileName=(0,_helper.extractNameFromKey)(path);writePath=(0,_helper.extractParentFromKey)(path)+"/.bin/"+fileName.replace("circom","r1cs");_context3.next=31;return this.call("fileManager","writeFile",writePath,r1csProgram,true);case 31:case"end":return _context3.stop()}}}),_callee3,this)})));function generateR1cs(_x5,_x6){return _generateR1cs.apply(this,arguments)}return generateR1cs}()},{key:"computeWitness",value:function(){var _computeWitness=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee4(input){var wasmPath,buffer,dataRead,witness;return _regenerator["default"].wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this.internalEvents.emit("circuit_computing_witness_start");wasmPath=this.lastCompiledCircuitPath;if(wasmPath){_context4.next=4;break}throw new Error("No wasm file found");case 4:_context4.next=6;return this.call("fileManager","readFile",wasmPath,{encoding:null});case 6:buffer=_context4.sent;dataRead=new Uint8Array(buffer);_context4.next=10;return(0,_circom_wasm.generate_witness)(dataRead,input);case 10:witness=_context4.sent;_context4.next=13;return this.call("fileManager","writeFile",wasmPath.replace(".wasm",".wtn"),witness,true);case 13:this.internalEvents.emit("circuit_computing_witness_done");case 14:case"end":return _context4.stop()}}}),_callee4,this)})));function computeWitness(_x7){return _computeWitness.apply(this,arguments)}return computeWitness}()},{key:"resolveDependencies",value:function(){var _resolveDependencies=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee6(filePath,fileContent){var _this2=this;var output,depPath,blackPath,includes,_args6=arguments;return _regenerator["default"].wrap((function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:output=_args6.length>2&&_args6[2]!==undefined?_args6[2]:{};depPath=_args6.length>3&&_args6[3]!==undefined?_args6[3]:"";blackPath=_args6.length>4&&_args6[4]!==undefined?_args6[4]:[];includes=(fileContent.match(/include ['"].*['"]/g)||[]).map((function(include){return include.replace(/include ['"]/g,"").replace(/['"]/g,"")}));_context6.next=6;return Promise.all(includes.map(function(){var _ref=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee5(include){var dependencyContent,path,pathExists,relativePath,relativePathExists,splitInclude,version,dependencyIncludes;return _regenerator["default"].wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!blackPath.includes(include)){_context5.next=2;break}return _context5.abrupt("return");case 2:dependencyContent="";path=include;_context5.next=6;return _this2.call("fileManager","exists",path);case 6:pathExists=_context5.sent;if(!pathExists){_context5.next=13;break}_context5.next=10;return _this2.call("fileManager","readFile",path);case 10:dependencyContent=_context5.sent;_context5.next=51;break;case 13:relativePath=_path["default"].resolve(filePath.slice(0,filePath.lastIndexOf("/")),include);if(relativePath.indexOf("/")===0)relativePath=relativePath.slice(1);_context5.next=17;return _this2.call("fileManager","exists",relativePath);case 17:relativePathExists=_context5.sent;if(!relativePathExists){_context5.next=24;break}_context5.next=21;return _this2.call("fileManager","readFile",relativePath);case 21:dependencyContent=_context5.sent;_context5.next=51;break;case 24:if(!include.startsWith("circomlib")){_context5.next=40;break}splitInclude=include.split("/");version=splitInclude[1].match(/v[0-9]+.[0-9]+.[0-9]+/g);if(!(version&&version[0])){_context5.next=34;break}path="https://raw.githubusercontent.com/iden3/circomlib/".concat(version[0],"/circuits/").concat(splitInclude.slice(2).join("/"));_context5.next=31;return _this2.call("contentImport","resolveAndSave",path,null);case 31:dependencyContent=_context5.sent;_context5.next=38;break;case 34:path="https://raw.githubusercontent.com/iden3/circomlib/master/circuits/".concat(splitInclude.slice(1).join("/"));_context5.next=37;return _this2.call("contentImport","resolveAndSave",path,null);case 37:dependencyContent=_context5.sent;case 38:_context5.next=51;break;case 40:if(!depPath){_context5.next=48;break}path=_path["default"].resolve(depPath.slice(0,depPath.lastIndexOf("/")),include);if(path.indexOf("/")===0)path=path.slice(1);_context5.next=45;return _this2.call("contentImport","resolveAndSave",path,null);case 45:dependencyContent=_context5.sent;_context5.next=51;break;case 48:_context5.next=50;return _this2.call("contentImport","resolveAndSave",path,null);case 50:dependencyContent=_context5.sent;case 51:dependencyIncludes=(dependencyContent.match(/include ['"].*['"]/g)||[]).map((function(include){return include.replace(/include ['"]/g,"").replace(/['"]/g,"")}));blackPath.push(include);if(!(dependencyIncludes.length>0)){_context5.next=59;break}_context5.next=56;return _this2.resolveDependencies(filePath,dependencyContent,output,path,blackPath);case 56:output[include]=dependencyContent;_context5.next=60;break;case 59:output[include]=dependencyContent;case 60:case"end":return _context5.stop()}}}),_callee5)})));return function(_x10){return _ref.apply(this,arguments)}}()));case 6:return _context6.abrupt("return",output);case 7:case"end":return _context6.stop()}}}),_callee6)})));function resolveDependencies(_x8,_x9){return _resolveDependencies.apply(this,arguments)}return resolveDependencies}()},{key:"resolveReportPath",value:function(){var _resolveReportPath=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee7(path){var pathExists,relativePath,relativePathExists,splitInclude,version,exists;return _regenerator["default"].wrap((function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return this.call("fileManager","exists",path);case 2:pathExists=_context7.sent;if(!pathExists){_context7.next=7;break}return _context7.abrupt("return",path);case 7:relativePath=_path["default"].resolve(this.lastCompiledFile.slice(0,this.lastCompiledFile.lastIndexOf("/")),path);if(relativePath.indexOf("/")===0)relativePath=relativePath.slice(1);_context7.next=11;return this.call("fileManager","exists",relativePath);case 11:relativePathExists=_context7.sent;if(!relativePathExists){_context7.next=16;break}return _context7.abrupt("return",relativePath);case 16:if(!path.startsWith("circomlib")){_context7.next=30;break}splitInclude=path.split("/");version=splitInclude[1].match(/v[0-9]+.[0-9]+.[0-9]+/g);if(version&&version[0]){path="/.deps/https/raw.githubusercontent.com/iden3/circomlib/".concat(version[0],"/circuits/").concat(splitInclude.slice(2).join("/"))}else{path="/.deps/https/raw.githubusercontent.com/iden3/circomlib/master/circuits/".concat(splitInclude.slice(1).join("/"))}_context7.next=22;return this.call("fileManager","exists",path);case 22:exists=_context7.sent;if(!exists){_context7.next=27;break}return _context7.abrupt("return",path);case 27:throw new Error("Report path ".concat(path," do no exist in the Remix FileSystem"));case 28:_context7.next=31;break;case 30:throw new Error("Report path ".concat(path," do no exist in the Remix FileSystem"));case 31:case"end":return _context7.stop()}}}),_callee7,this)})));function resolveReportPath(_x11){return _resolveReportPath.apply(this,arguments)}return resolveReportPath}()}]);return CircomPluginClient}(_plugin.PluginClient);exports.CircomPluginClient=CircomPluginClient},2002:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);var _react=_interopRequireDefault(__webpack_require__(47182));var _reactDom=_interopRequireDefault(__webpack_require__(63521));var _app=_interopRequireDefault(__webpack_require__(957));var _jsxRuntime=__webpack_require__(97659);_reactDom["default"].render((0,_jsxRuntime.jsx)(_app["default"],{}),document.getElementById("root"))},29539:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _copyToClipboard=__webpack_require__(81978);Object.keys(_copyToClipboard).forEach((function(key){if(key==="default"||key==="__esModule")return;if(key in exports&&exports[key]===_copyToClipboard[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _copyToClipboard[key]}})}))},81978:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);var _typeof=__webpack_require__(22886);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=exports.CopyToClipboard=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15159));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(93931));var _react=_interopRequireWildcard(__webpack_require__(47182));var _copyToClipboard=_interopRequireDefault(__webpack_require__(93700));__webpack_require__(29114);var _helper=__webpack_require__(63878);var _jsxRuntime=__webpack_require__(97659);var _excluded=["tip","icon","direction","getContent","children"];function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}var CopyToClipboard=function CopyToClipboard(props){var _props$tip=props.tip,tip=_props$tip===void 0?"Copy":_props$tip,_props$icon=props.icon,icon=_props$icon===void 0?"fa-copy":_props$icon,_props$direction=props.direction,direction=_props$direction===void 0?"right":_props$direction,getContent=props.getContent,children=props.children,otherProps=(0,_objectWithoutProperties2["default"])(props,_excluded);var content=props.content;var _useState=(0,_react.useState)(tip),_useState2=(0,_slicedToArray2["default"])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var copyData=function copyData(){try{if(content===""){setMessage("Cannot copy empty content!");return}if(typeof content!=="string"){content=JSON.stringify(content,null,"\t")}(0,_copyToClipboard["default"])(content);setMessage("Copied")}catch(e){console.error(e)}};var handleClick=function handleClick(e){if(content){copyData()}else{content=getContent&&getContent();copyData()}e.preventDefault()};var reset=function reset(){setTimeout((function(){return setMessage(tip)}),500)};var childJSX=children||(0,_jsxRuntime.jsx)("i",Object.assign({className:"far ".concat(icon," ml-1 p-2"),"aria-hidden":"true"},otherProps));return(0,_jsxRuntime.jsx)("a",{href:"#",onClick:handleClick,onMouseLeave:reset,children:(0,_jsxRuntime.jsx)(_helper.CustomTooltip,{tooltipText:message,tooltipId:"overlay-tooltip",placement:direction,children:childJSX})})};exports.CopyToClipboard=CopyToClipboard;var _default=CopyToClipboard;exports["default"]=_default},63878:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _remixUiHelper=__webpack_require__(69367);Object.keys(_remixUiHelper).forEach((function(key){if(key==="default"||key==="__esModule")return;if(key in exports&&exports[key]===_remixUiHelper[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _remixUiHelper[key]}})}));var _bleach=__webpack_require__(90550);Object.keys(_bleach).forEach((function(key){if(key==="default"||key==="__esModule")return;if(key in exports&&exports[key]===_bleach[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _bleach[key]}})}));var _helperComponents=__webpack_require__(56279);Object.keys(_helperComponents).forEach((function(key){if(key==="default"||key==="__esModule")return;if(key in exports&&exports[key]===_helperComponents[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _helperComponents[key]}})}));var _PluginViewWrapper=__webpack_require__(51795);Object.keys(_PluginViewWrapper).forEach((function(key){if(key==="default"||key==="__esModule")return;if(key in exports&&exports[key]===_PluginViewWrapper[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _PluginViewWrapper[key]}})}));var _customDropdown=__webpack_require__(25335);Object.keys(_customDropdown).forEach((function(key){if(key==="default"||key==="__esModule")return;if(key in exports&&exports[key]===_customDropdown[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _customDropdown[key]}})}));var _customTooltip=__webpack_require__(96283);Object.keys(_customTooltip).forEach((function(key){if(key==="default"||key==="__esModule")return;if(key in exports&&exports[key]===_customTooltip[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _customTooltip[key]}})}))},90550:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _typeof=__webpack_require__(22886);Object.defineProperty(exports,"__esModule",{value:true});exports.bleach=void 0;var he=_interopRequireWildcard(__webpack_require__(37557));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}var bleach={matcher:/<\/?([a-zA-Z0-9]+)*(.*?)\/?>/gim,whitelist:["a","b","p","em","strong"],analyze:function analyze(html){html=String(html)||"";var matches=[];var match;var _loop=function _loop(){var attrr=match[2].split(" ");var attrs=[];attrr.shift();attrr.forEach((function(attr){attr=attr.split("=");var attrName=attr[0];var attrValue=attr.length>1?attr.slice(1).join("="):null;if(attrValue&&attrValue.charAt(0).match(/'|"/))attrValue=attrValue.slice(1);if(attrValue&&attrValue.charAt(attrValue.length-1).match(/'|"/))attrValue=attrValue.slice(0,-1);attr={name:attrName,value:attrValue};if(!attr.value)delete attr.value;if(attr.name)attrs.push(attr)}));var tag={full:match[0],name:match[1],attr:attrs};matches.push(tag)};while((match=bleach.matcher.exec(html))!=null){_loop()}return matches},sanitize:function sanitize(html){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{mode:"white",list:bleach.whitelist,encode_entities:false};html=String(html)||"";var mode=options.mode||"white";var list=options.list||bleach.whitelist;var matches=bleach.analyze(html);if(mode==="white"&&list.indexOf("script")===-1||mode==="black"&&list.indexOf("script")!==-1){html=html.replace(/<script(.*?)>(.*?[\r\n])*?(.*?)(.*?[\r\n])*?<\/script>/gim,"")}if(mode==="white"&&list.indexOf("style")===-1||mode==="black"&&list.indexOf("style")!==-1){html=html.replace(/<style(.*?)>(.*?[\r\n])*?(.*?)(.*?[\r\n])*?<\/style>/gim,"")}matches.forEach((function(tag){if(mode==="white"){if(list.indexOf(tag.name)===-1){html=html.replace(tag.full,"")}}else if(mode==="black"){if(list.indexOf(tag.name)!==-1){html=html.replace(tag.full,"")}}else{throw new Error('Unknown sanitization mode "'+mode+'"')}}));if(options.encode_entities)html=he.encode(html);return html}};exports.bleach=bleach},51795:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);var _typeof=__webpack_require__(22886);Object.defineProperty(exports,"__esModule",{value:true});exports.PluginViewWrapper=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15159));var _react=_interopRequireWildcard(__webpack_require__(47182));var _jsxRuntime=__webpack_require__(97659);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}var PluginViewWrapper=function PluginViewWrapper(props){var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2["default"])(_useState,2),state=_useState2[0],setState=_useState2[1];(0,_react.useEffect)((function(){if(props.plugin.setDispatch){props.plugin.setDispatch(setState)}}),[]);return(0,_jsxRuntime.jsx)(_jsxRuntime.Fragment,{children:state?(0,_jsxRuntime.jsx)(_jsxRuntime.Fragment,{children:props.plugin.updateComponent(state)}):(0,_jsxRuntime.jsx)(_jsxRuntime.Fragment,{})})};exports.PluginViewWrapper=PluginViewWrapper},25335:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);Object.defineProperty(exports,"__esModule",{value:true});exports.ProxyDropdownMenu=exports.ProxyAddressToggle=exports.CustomToggle=exports.CustomMenu=exports.CustomIconsToggle=void 0;var _react=_interopRequireDefault(__webpack_require__(47182));var _reactIntl=__webpack_require__(24831);var _helper=__webpack_require__(63878);var _jsxRuntime=__webpack_require__(97659);var CustomToggle=_react["default"].forwardRef((function(_ref,ref){var children=_ref.children,_onClick=_ref.onClick,icon=_ref.icon,_ref$className=_ref.className,className=_ref$className===void 0?"":_ref$className;return(0,_jsxRuntime.jsx)("button",{ref,onClick:function onClick(e){e.preventDefault();_onClick(e)},className:className.replace("dropdown-toggle",""),children:(0,_jsxRuntime.jsxs)("div",{className:"d-flex",children:[(0,_jsxRuntime.jsx)("div",{className:"mr-auto text-nowrap",children}),icon&&(0,_jsxRuntime.jsx)("div",{className:"pr-1",children:(0,_jsxRuntime.jsx)("i",{className:"".concat(icon," pr-1")})}),(0,_jsxRuntime.jsx)("div",{children:(0,_jsxRuntime.jsx)("i",{className:"fad fa-sort-circle"})})]})})}));exports.CustomToggle=CustomToggle;var CustomIconsToggle=_react["default"].forwardRef((function(_ref2,ref){var _onClick2=_ref2.onClick,icon=_ref2.icon,_ref2$className=_ref2.className,className=_ref2$className===void 0?"":_ref2$className;return(0,_jsxRuntime.jsx)("span",{ref,onClick:function onClick(e){e.preventDefault();_onClick2()},className:"".concat(className.replace("dropdown-toggle","")," mr-1 mb-0 pb-0 d-flex justify-content-end align-items-end remixuimenuicon_shadow remixuimenuicon_hamburger_menu fs-3"),"data-id":"workspaceMenuDropdown",children:icon&&(0,_jsxRuntime.jsx)(_helper.CustomTooltip,{placement:"top",tooltipClasses:"text-nowrap text-left",tooltipId:"remixHamburgerTooltip",tooltipText:(0,_jsxRuntime.jsx)(_reactIntl.FormattedMessage,{id:"filePanel.workspaceActions"}),children:(0,_jsxRuntime.jsx)("i",{style:{fontSize:"large"},className:"".concat(icon),"data-id":"workspaceDropdownMenuIcon"})})})}));exports.CustomIconsToggle=CustomIconsToggle;var CustomMenu=_react["default"].forwardRef((function(_ref3,ref){var children=_ref3.children,style=_ref3.style,dataId=_ref3["data-id"],className=_ref3.className,labeledBy=_ref3["aria-labelledby"];var height=window.innerHeight*.6;return(0,_jsxRuntime.jsx)("div",{ref,style,className,"aria-labelledby":labeledBy,"data-id":dataId,children:(0,_jsxRuntime.jsx)("ul",{className:"overflow-auto list-unstyled mb-0",style:{maxHeight:height+"px"},children})})}));exports.CustomMenu=CustomMenu;var ProxyAddressToggle=_react["default"].forwardRef((function(_ref4,ref){var address=_ref4.address,_onClick3=_ref4.onClick,_ref4$className=_ref4.className,className=_ref4$className===void 0?"":_ref4$className,_onChange=_ref4.onChange;var intl=(0,_reactIntl.useIntl)();return(0,_jsxRuntime.jsx)("div",{ref,onClick:function onClick(e){e.preventDefault();_onClick3(e)},className:"d-flex "+className.replace("dropdown-toggle",""),"data-id":"toggleProxyAddressDropdown",children:(0,_jsxRuntime.jsx)("input",{onChange:function onChange(e){e.preventDefault();_onChange(e)},className:"udapp_input form-control",value:address,placeholder:intl.formatMessage({id:"udapp.enterProxyAddress"}),style:{width:"100%"},"data-id":"ERC1967AddressInput"})})}));exports.ProxyAddressToggle=ProxyAddressToggle;var ProxyDropdownMenu=_react["default"].forwardRef((function(_ref5,ref){var children=_ref5.children,style=_ref5.style,className=_ref5.className,labeledBy=_ref5["aria-labelledby"];return(0,_jsxRuntime.jsx)("div",{ref,style,className,"aria-labelledby":labeledBy,children:(0,_jsxRuntime.jsx)("ul",{className:"list-unstyled mb-0",children})})}));exports.ProxyDropdownMenu=ProxyDropdownMenu},96283:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _typeof=__webpack_require__(22886);Object.defineProperty(exports,"__esModule",{value:true});exports.CustomTooltip=CustomTooltip;var _react=_interopRequireWildcard(__webpack_require__(47182));var _reactBootstrap=__webpack_require__(6196);var _jsxRuntime=__webpack_require__(97659);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function CustomTooltip(_ref){var children=_ref.children,placement=_ref.placement,tooltipId=_ref.tooltipId,tooltipClasses=_ref.tooltipClasses,tooltipText=_ref.tooltipText,tooltipTextClasses=_ref.tooltipTextClasses,delay=_ref.delay;if(typeof tooltipText!=="string"){var newTooltipText=_react["default"].cloneElement(tooltipText,{className:" bg-secondary text-wrap p-1 px-2 "});tooltipText=newTooltipText}return(0,_jsxRuntime.jsx)(_react.Fragment,{children:(0,_jsxRuntime.jsx)(_reactBootstrap.OverlayTrigger,{placement,overlay:(0,_jsxRuntime.jsx)(_reactBootstrap.Popover,{id:"popover-positioned-".concat(placement),children:(0,_jsxRuntime.jsx)(_reactBootstrap.Popover.Content,{id:!tooltipId?"".concat(tooltipText,"Tooltip"):tooltipId,style:{minWidth:"fit-content"},className:"text-wrap p-1 px-2 bg-secondary w-100"+tooltipClasses,children:typeof tooltipText==="string"?(0,_jsxRuntime.jsx)("span",{className:"text-wrap p-1 px-2 bg-secondary "+{tooltipTextClasses},children:tooltipText}):tooltipText})}),delay,children})})}},56279:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);Object.defineProperty(exports,"__esModule",{value:true});exports.RenderIf=RenderIf;exports.RenderIfNot=RenderIfNot;exports.upgradeWithProxyMsg=exports.upgradeReportMsg=exports.unavailableProxyLayoutMsg=exports.storageFullMessage=exports.sourceVerificationNotAvailableToastMsg=exports.recursivePasteToastMsg=exports.notFoundToastMsg=exports.logBuilder=exports.localCompilationToastMsg=exports.fileChangedToastMsg=exports.envChangeNotification=exports.deployWithProxyMsg=exports.compilingToastMsg=exports.compilerConfigChangedToastMsg=exports.compileToastMsg=exports.compilationFinishedToastMsg=exports.cancelUpgradeMsg=exports.cancelProxyMsg=void 0;var _react=_interopRequireDefault(__webpack_require__(47182));var _jsxRuntime=__webpack_require__(97659);var fileChangedToastMsg=function fileChangedToastMsg(from,path){return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsx)("i",{className:"fas fa-exclamation-triangle text-danger mr-1"}),(0,_jsxRuntime.jsxs)("span",{children:[from," ",(0,_jsxRuntime.jsx)("span",{className:"font-weight-bold text-warning",children:"is modifying"})," ",path]})]})};exports.fileChangedToastMsg=fileChangedToastMsg;var compilerConfigChangedToastMsg=function compilerConfigChangedToastMsg(from,value){return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsx)("b",{children:from})," is updating the ",(0,_jsxRuntime.jsx)("b",{children:"Solidity compiler configuration"}),".",(0,_jsxRuntime.jsx)("pre",{className:"text-left",children:value})]})};exports.compilerConfigChangedToastMsg=compilerConfigChangedToastMsg;var compileToastMsg=function compileToastMsg(from,fileName){return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsx)("b",{children:from})," is requiring to compile ",(0,_jsxRuntime.jsx)("b",{children:fileName})]})};exports.compileToastMsg=compileToastMsg;var compilingToastMsg=function compilingToastMsg(settings){return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsx)("b",{children:"Recompiling and debugging with params"}),(0,_jsxRuntime.jsx)("pre",{className:"text-left",children:settings})]})};exports.compilingToastMsg=compilingToastMsg;var compilationFinishedToastMsg=function compilationFinishedToastMsg(){return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsx)("b",{children:"Compilation failed..."})," continuing ",(0,_jsxRuntime.jsx)("i",{children:"without"})," source code debugging."]})};exports.compilationFinishedToastMsg=compilationFinishedToastMsg;var notFoundToastMsg=function notFoundToastMsg(address){return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsxs)("b",{children:["Contract ",address," not found in source code repository"]})," continuing ",(0,_jsxRuntime.jsx)("i",{children:"without"})," source code debugging."]})};exports.notFoundToastMsg=notFoundToastMsg;var localCompilationToastMsg=function localCompilationToastMsg(){return(0,_jsxRuntime.jsx)("div",{children:(0,_jsxRuntime.jsx)("b",{children:"Using compilation result from Solidity module"})})};exports.localCompilationToastMsg=localCompilationToastMsg;var sourceVerificationNotAvailableToastMsg=function sourceVerificationNotAvailableToastMsg(){return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsx)("b",{children:"Source verification plugin not activated or not available."})," continuing ",(0,_jsxRuntime.jsx)("i",{children:"without"})," source code debugging."]})};exports.sourceVerificationNotAvailableToastMsg=sourceVerificationNotAvailableToastMsg;var envChangeNotification=function envChangeNotification(env,from){return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsx)("i",{className:"fas fa-exclamation-triangle text-danger mr-1"}),(0,_jsxRuntime.jsxs)("span",{children:[from+" ",(0,_jsxRuntime.jsx)("span",{className:"font-weight-bold text-warning",children:"set your environment to"})," ",env&&env.context]})]})};exports.envChangeNotification=envChangeNotification;var storageFullMessage=function storageFullMessage(){return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsx)("i",{className:"fas fa-exclamation-triangle text-danger mr-1"}),(0,_jsxRuntime.jsx)("span",{className:"font-weight-bold",children:(0,_jsxRuntime.jsx)("span",{children:"Cannot save this file due to full LocalStorage. Backup existing files and free up some space."})})]})};exports.storageFullMessage=storageFullMessage;var recursivePasteToastMsg=function recursivePasteToastMsg(){return(0,_jsxRuntime.jsx)("div",{children:"File(s) to paste is an ancestor of the destination folder"})};exports.recursivePasteToastMsg=recursivePasteToastMsg;var logBuilder=function logBuilder(msg){return(0,_jsxRuntime.jsx)("pre",{children:msg})};exports.logBuilder=logBuilder;var cancelProxyMsg=function cancelProxyMsg(){return(0,_jsxRuntime.jsx)("div",{children:(0,_jsxRuntime.jsx)("b",{children:"Proxy deployment cancelled."})})};exports.cancelProxyMsg=cancelProxyMsg;var cancelUpgradeMsg=function cancelUpgradeMsg(){return(0,_jsxRuntime.jsx)("div",{children:(0,_jsxRuntime.jsx)("b",{children:"Upgrade with proxy cancelled."})})};exports.cancelUpgradeMsg=cancelUpgradeMsg;var deployWithProxyMsg=function deployWithProxyMsg(){return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsx)("b",{children:"Deploy with Proxy"})," will initiate two (2) transactions:",(0,_jsxRuntime.jsxs)("ol",{className:"pl-3",children:[(0,_jsxRuntime.jsx)("li",{children:"Deploying the implementation contract"},"impl-contract"),(0,_jsxRuntime.jsx)("li",{children:"Deploying an ERC1967 proxy contract"},"proxy-contract")]})]})};exports.deployWithProxyMsg=deployWithProxyMsg;var upgradeWithProxyMsg=function upgradeWithProxyMsg(){return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsx)("b",{children:"Upgrade with Proxy"})," will initiate two (2) transactions:",(0,_jsxRuntime.jsxs)("ol",{className:"pl-3",children:[(0,_jsxRuntime.jsx)("li",{children:"Deploying the new implementation contract"},"new-impl-contract"),(0,_jsxRuntime.jsx)("li",{children:"Updating the proxy contract with the address of the new implementation contract"},"update-proxy-contract")]})]})};exports.upgradeWithProxyMsg=upgradeWithProxyMsg;var unavailableProxyLayoutMsg=function unavailableProxyLayoutMsg(){return(0,_jsxRuntime.jsx)("div",{children:(0,_jsxRuntime.jsxs)("p",{children:["The previous contract implementation is NOT available for an upgrade comparison",(0,_jsxRuntime.jsx)("br",{})," A new storage layout will be saved for future upgrades."]})})};exports.unavailableProxyLayoutMsg=unavailableProxyLayoutMsg;var upgradeReportMsg=function upgradeReportMsg(report){return(0,_jsxRuntime.jsxs)("div",{children:[(0,_jsxRuntime.jsxs)("div",{className:"py-2 ml-2 mb-1 align-self-end mb-2 d-flex",children:[(0,_jsxRuntime.jsx)("span",{className:"align-self-center pl-4 mt-1",children:(0,_jsxRuntime.jsx)("i",{className:"pr-2 text-warning far fa-exclamation-triangle","aria-hidden":"true",style:{fontSize:"xxx-large",fontWeight:"lighter"}})}),(0,_jsxRuntime.jsxs)("div",{className:"d-flex flex-column",children:[(0,_jsxRuntime.jsx)("span",{className:"pl-4 mt-1",children:"The storage layout of new implementation is NOT"}),(0,_jsxRuntime.jsx)("span",{className:"pl-4 mt-1",children:"compatible with the previous implementation."}),(0,_jsxRuntime.jsx)("span",{className:"pl-4 mt-1",children:"Your contract's storage may be partially or fully erased!"})]})]}),(0,_jsxRuntime.jsx)("div",{className:"pl-4 text-danger",children:report.explain()})]})};exports.upgradeReportMsg=upgradeReportMsg;function RenderIf(_ref){var condition=_ref.condition,children=_ref.children;return condition?children:null}function RenderIfNot(_ref2){var condition=_ref2.condition,children=_ref2.children;return condition?null:children}},69367:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(67085);var _typeof=__webpack_require__(22886);Object.defineProperty(exports,"__esModule",{value:true});exports.shortenProxyAddress=exports.shortenHexData=exports.shortenDate=exports.shortenAddress=exports.joinPath=exports.isValidHash=exports.isNumeric=exports.isHexadecimal=exports.is0XPrefixed=exports.getPathIcon=exports.extractParentFromKey=exports.extractNameFromKey=exports.createNonClashingTitle=exports.createNonClashingNameAsync=exports.checkSpecialChars=exports.checkSlash=exports.addressToString=exports.addSlash=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(59454));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(91544));var ethJSUtil=_interopRequireWildcard(__webpack_require__(48044));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}var extractNameFromKey=function extractNameFromKey(key){if(!key)return;var keyPath=key.split("/");return keyPath[keyPath.length-1]};exports.extractNameFromKey=extractNameFromKey;var extractParentFromKey=function extractParentFromKey(key){if(!key)return;var keyPath=key.split("/");keyPath.pop();return keyPath.join("/")};exports.extractParentFromKey=extractParentFromKey;var checkSpecialChars=function checkSpecialChars(name){return name.match(/[:*?"<>\\'|]/)!=null};exports.checkSpecialChars=checkSpecialChars;var checkSlash=function checkSlash(name){return name.match(/\//)!=null};exports.checkSlash=checkSlash;var createNonClashingNameAsync=function(){var _ref=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee(name,fileManager){var prefix,_counter,ext,reg,split,exist,isDuplicate,counter,_args=arguments;return _regenerator["default"].wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:prefix=_args.length>2&&_args[2]!==undefined?_args[2]:"";if(!name)name="Undefined";ext="sol";reg=/(.*)\.([^.]+)/g;split=reg.exec(name);if(split){name=split[1];ext=split[2]}exist=true;case 7:_context.next=9;return fileManager.exists(name+(_counter||"")+prefix+"."+ext);case 9:isDuplicate=_context.sent;if(isDuplicate)_counter=(_counter||0)+1;else exist=false;case 11:if(exist){_context.next=7;break}case 12:counter=_counter||"";return _context.abrupt("return",name+counter+prefix+"."+ext);case 14:case"end":return _context.stop()}}}),_callee)})));return function createNonClashingNameAsync(_x,_x2){return _ref.apply(this,arguments)}}();exports.createNonClashingNameAsync=createNonClashingNameAsync;var createNonClashingTitle=function(){var _ref2=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark((function _callee2(name,fileManager){var _counter,exist,isDuplicate,counter;return _regenerator["default"].wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!name)name="Undefined";exist=true;case 2:_context2.next=4;return fileManager.exists(name+(_counter||""));case 4:isDuplicate=_context2.sent;if(isDuplicate)_counter=(_counter||0)+1;else exist=false;case 6:if(exist){_context2.next=2;break}case 7:counter=_counter||"";return _context2.abrupt("return",name+counter);case 9:case"end":return _context2.stop()}}}),_callee2)})));return function createNonClashingTitle(_x3,_x4){return _ref2.apply(this,arguments)}}();exports.createNonClashingTitle=createNonClashingTitle;var joinPath=function joinPath(){for(var _len=arguments.length,paths=new Array(_len),_key=0;_key<_len;_key++){paths[_key]=arguments[_key]}paths=paths.filter((function(value){return value!==""})).map((function(path){return path.replace(/^\/|\/$/g,"")}));if(paths.length===1)return paths[0];return paths.join("/")};exports.joinPath=joinPath;var getPathIcon=function getPathIcon(path){return path.endsWith(".txt")?"far fa-file-alt":path.endsWith(".md")?"fab fa-markdown":path.endsWith(".sol")?"fak fa-solidity-mono":path.endsWith(".js")?"fab fa-js":path.endsWith(".json")?"small fas fa-brackets-curly":path.endsWith(".vy")?"small fak fa-vyper2":path.endsWith(".lex")?"fak fa-lexon":path.endsWith("ts")?"small fak fa-ts-logo":path.endsWith(".tsc")?"fad fa-brackets-curly":path.endsWith(".cairo")?"small fak fa-cairo":path.endsWith(".circom")?"fak fa-circom":"far fa-file"};exports.getPathIcon=getPathIcon;var isNumeric=function isNumeric(value){return/^\+?(0|[1-9]\d*)$/.test(value)};exports.isNumeric=isNumeric;var shortenAddress=function shortenAddress(address,etherBalance){var len=address.length;return address.slice(0,5)+"..."+address.slice(len-5,len)+(etherBalance?" ("+etherBalance.toString()+" ether)":"")};exports.shortenAddress=shortenAddress;var addressToString=function addressToString(address){if(!address)return null;if(typeof address!=="string"){address=address.toString("hex")}if(address.indexOf("0x")===-1){address="0x"+address}return ethJSUtil.toChecksumAddress(address)};exports.addressToString=addressToString;var is0XPrefixed=function is0XPrefixed(value){return value.substr(0,2)==="0x"};exports.is0XPrefixed=is0XPrefixed;var isHexadecimal=function isHexadecimal(value){return/^[0-9a-fA-F]+$/.test(value)&&value.length%2===0};exports.isHexadecimal=isHexadecimal;var isValidHash=function isValidHash(hash){var hexValue=hash.slice(2,hash.length);return is0XPrefixed(hash)&&/^[0-9a-fA-F]{64}$/.test(hexValue)};exports.isValidHash=isValidHash;var shortenHexData=function shortenHexData(data){if(!data)return"";if(data.length<5)return data;var len=data.length;return data.slice(0,5)+"..."+data.slice(len-5,len)};exports.shortenHexData=shortenHexData;var addSlash=function addSlash(file){if(!file.startsWith("/"))file="/"+file;return file};exports.addSlash=addSlash;var shortenProxyAddress=function shortenProxyAddress(address){var len=address.length;return address.slice(0,5)+"..."+address.slice(len-5,len)};exports.shortenProxyAddress=shortenProxyAddress;var shortenDate=function shortenDate(dateString){var date=new Date(dateString);return date.toLocaleDateString(undefined,{month:"short",day:"numeric"})+", "+date.toLocaleTimeString(undefined,{hour:"2-digit",minute:"2-digit"})};exports.shortenDate=shortenDate},29114:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},57267:()=>{},59255:()=>{},43194:()=>{},57017:()=>{}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[736],(()=>__webpack_exec__(2002)));var __webpack_exports__=__webpack_require__.O()}]);